---
- hosts: localhost
  vars_files:
    - default.config.yaml
    - applications.yaml

  pre_tasks:

    - command: "sh -c 'find {{ playbook_dir }}/config*.yaml'"
      register: configs
    - include_vars:
        file: "{{ item }}"
      loop: "{{ configs.stdout_lines }}"
  
    - debug:
        msg: "{{ applications | select('match', '^(eth|wlan)[0-9]+') | list }}"
        verbosity: 2

  roles:
    # Packages / Brew
    #- setup-tooling
    # Shells
    - bash
    - zsh
    # Language Manager
    #- rvm
    #- gvm
    #- nvm
    #- jenv
